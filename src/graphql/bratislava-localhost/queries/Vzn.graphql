query AllVZNs {
  vzns(pagination: { limit: -1 }) {
    data {
      ...VznEntity
    }
  }
}

fragment VznDetail on Vzn {
  title
  validFrom
  mainDocument {
    data {
      ...UploadFileEntity
    }
  }
  cancellationDocument {
    id
    title
    validFrom
    document {
      data {
        ...UploadFileEntity
      }
    }
  }
  amedmentDocument {
    id
    title
    validFrom
    document {
      data {
        ...UploadFileEntity
      }
    }
  }
}

fragment VznEntity on VznEntity {
  id
  attributes {
    title
    validFrom
    details
    category
    consolidatedText {
      data {
        ...UploadFileEntity
      }
    }
    mainDocument {
      data {
        ...UploadFileEntity
      }
    }
    cancellationDocument {
      id
      title
      validFrom
      document {
        data {
          ...UploadFileEntity
        }
      }
    }
    amedmentDocument {
      id
      title
      validFrom
      document {
        data {
          ...UploadFileEntity
        }
      }
    }
  }
}

fragment UploadFileEntity on UploadFileEntity {
  id
  attributes {
    url
    name
    ext
    size
    createdAt
    updatedAt
  }
}
