query AllEvents($locale: I18NLocaleCode!) {
  events(locale: $locale, pagination: {start: 0, limit: -1}) {
    data {
      id
      __typename
      attributes {
        slug
        title

      }
    }
  }
}

query AllPages($locale: I18NLocaleCode!) {
  pages(locale: $locale , pagination: {start: 0, limit: -1}) {
    data {
      id
      attributes {
        title
        slug
      }
    }
  }
}

query PageById($locale: I18NLocaleCode!, $id: ID!) {
  page(locale: $locale, id: $id ) {
    data {
      id
      attributes {
        title
        slug
        sections {
          __typename
          ... on ComponentSectionsFlatText {
            id
            content
          }
          ... on ComponentSectionsVideo {
            id
            youtube_url
          }
          ... on ComponentSectionsDocuments {
            id
            title
            basicDocuments {
              data {
                id
              }
            }
          }
        }
      }
    }
  }
}

query LocalityPages($locale: I18NLocaleCode!) {
  pages(locale: $locale, pagination: {start: 0, limit: -1}, filters: {layout: {eq: "locality"}}) {
    data {
      id
      attributes {
        title
        slug
        sections {
          __typename
          ... on ComponentSectionsGallery {
            Gallery {
              Description
              Photo {
                data {
                  id
                  attributes {
                    url
                    alternativeText
                    caption
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}

query AllPagesWithSections($locale: I18NLocaleCode!) {
  pages(locale: $locale , pagination: {start:0, limit: -1}, filters: {layout: {not: {eq: "news"}}}) {
    data {
      id
      attributes {
        ...PageForSections
        localizations {
          data {
            id
            attributes {
              locale
              ...PageForSections
            }
          }
        }
      }
    }
  }
}

fragment PageForSections on Page {
  title
  slug
  layout
  #  description
  #  date_added
  publishedAt
  #  promoted
  pageCategory {
    data {
      attributes {
        title
      }
    }
  }
  Seo {
    metaTitle
    metaDescription
    keywords
  }
  listingImage {
    data {
      id
    }
  }
  sections {
    __typename
    ... on ComponentSectionsFaq {
      title
    }
    ... on ComponentSectionsFlatText {
      content
      #      media {
      #        data {
      #          id
      #        }
      #      }
    }
    ... on ComponentSectionsSiteUsefullness {
      title
    }
    ... on ComponentSectionsSubpages {
      title
    }
    ... on ComponentSectionsTable {
      primaryTitle
      secondaryTitle
    }
    ... on ComponentSectionsAccordion {
      title
    }
    #    ... on ComponentSectionsDivider {
    #      shown
    #    }
    ... on ComponentSectionsColumnedText {
      title
    }
    ... on ComponentSectionsCta {
      title
    }
    ... on ComponentSectionsFlatTextCenter {
      content
    }
    ... on ComponentSectionsSubListing {
      title
    }
    ... on ComponentSectionsForm {
      type
    }
    ... on ComponentSectionsDocuments {
      title
    }
    ... on ComponentSectionsExternalLinks {
      title
    }
    ... on ComponentSectionsVideo {
      youtube_url
      media {
        data {
          id
        }
      }
    }
    ... on ComponentSectionsGallery {
      Gallery {
        Description
      }
    }
    ... on ComponentSectionsMap {
      title
    }
  }
}
